<!DOCTYPE html>
<!-- saved from url=(0044)https://sonnardspeedometer.ct.ws/v2.html?i=1 -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>SONNARD SPEEDOMETER</title>
<style>
@font-face {
  font-family: 'Montserrat';
  src: url('fonts/Montserrat-Regular.ttf') format('truetype');
  font-weight: normal;
}

@font-face {
  font-family: 'Montserrat';
  src: url('fonts/Montserrat-Bold.ttf') format('truetype');
  font-weight: bold;
}


* { margin: 0; padding: 0; box-sizing: border-box; }
:root {
    --cyber-white: #ff0033;
    --cyber-green: #00ff6a;
    --cyber-orange: #ffaa00;
    --cyber-red: #ff0033;
  }
body {
  font-family: 'Montserrat', sans-serif;
  background: transparent;
  color: white;
  overflow: visible;
   -webkit-user-select: none; /* Safari */
  -moz-user-select: none;    /* Firefox */
  -ms-user-select: none;     /* Internet Explorer/Edge */
  user-select: none;         /* Standar modern */
  
} 
 .rpm {
  position: absolute;
  right: 30px;
  bottom: 30px;
  font-size: 36px;
  letter-spacing: 2px;
}
.speed {
  position: absolute;
  left: 125px;
  bottom: 30px;
  font-size: 36px;
  letter-spacing: 2px;
}
.indicator-left{
  position: absolute;
  right: 70px;
  bottom: 12px;
  font-size: 12px;
  letter-spacing: 2px;
}
.indicator-right{
  position: absolute;
  right: 45px;
  bottom: 12px;
  font-size: 12px;
  letter-spacing: 2px;
}
.fuel-value {
  position: absolute;
  left: 225px;
  bottom: 16px;
  font-size: 12px;
  letter-spacing: 2px;
}
.health-value {
  position: absolute;
  left: 162px;
  bottom: 16px;
  font-size: 12px;
  letter-spacing: 2px;
}
.lamp {
  position: absolute;
  left: 260px;
  bottom: 11px;
  font-size: 12px;
  letter-spacing: 2px;
}
.seat {
  position: absolute;
  left: 290px;
  bottom: 12px;
  font-size: 12px;
  letter-spacing: 2px;
}
.engine {
  position: absolute;
  left: 140px;
  bottom: 11px;
  font-size: 12px;
  letter-spacing: 2px;
}
.fuel {
  position: absolute;
  left: 200px;
  bottom: 11px;
  font-size: 12px;
  letter-spacing: 2px;
}
  /* Lingkaran RPM */
  .rpm-circle {
    position:absolute;
    left: 0px;
    top: 0px;
    width: 100px;
    height: 100px;
    border-radius: 50%;
    background: conic-gradient(var(--cyber-green) 90deg, #222 90deg);
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background 0.15s ease-out;
    box-shadow: 0 0 20px rgba(0,255,100,0.1);
  }

  /* Ring tipis agar lebih elegan */
  .rpm-ring {
    position: absolute;
    width: 100px;
    height: 100px;
    border-radius: 50%;
  }

  .circle-center {
    position: absolute;
    top: 5px;
    bottom: 22px;
    width: 90px;
    height: 90px;
    background: #000;
    border-radius: 50%;
    border: 2px solid var(--cyber-white);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 36px;
    box-shadow: inset 0 0 15px rgba(0,255,255,0.3);
  }

  .rpm-lights {
    top: 15px;
    right: 40px;
    position: absolute;
    display: flex;
    gap: 10px;
  }

  .light {
    top: 0px;
    width: 15px;
    height: 15px;
    border-radius: 50%;
    background: #111;
    box-shadow: 0 0 4px #000;
    transition: background 0.25s ease, box-shadow 0.25s ease;
  }

  .light.active {
    top: 0px;
    background: var(--cyber-green);
    box-shadow: 0 0 10px var(--cyber-green);
  }

  .light.orange {
    top: 0px;
    background: var(--cyber-orange);
    box-shadow: 0 0 10px var(--cyber-orange);
  }

  .light.red {
    top: 0px;
    background: var(--cyber-red);
    box-shadow: 0 0 12px var(--cyber-red);
  }

  .rpm-label {
    position: absolute;
    top: 35px;
    right: 80px;
    font-size: 1.1rem;
    opacity: 0.8;
  }
   .speed-label {
    position: absolute;
    top: 35px;
    left: 125px;
    font-size: 1.1rem;
    opacity: 0.8;
  }

  .gauges-container {
    position: center;
    right: 20px;   /* jarak dari sisi kanan */
    bottom: 50px;  /* jarak dari sisi bawah */
    height: 400px;
    width: 600px;

}

  .box {
    background: url(https://i.imgur.com/UvmmCQd.png);
    background-size: 400px;
    width: 400px;
    height: 120px;
    background-repeat: no-repeat;
    position: fixed;
    right: 10px;   /* jarak dari sisi kanan */
    bottom: 25px;  /* jarak dari sisi bawah */
    overflow: visible;
}
    
    /*RADIOO00000000000000000000000000000000000OOOO*/
.player {
  position: absolute;
  right: 10px;
  bottom: 150px;
  width: 200px;
  height: 80px;
  background: rgba(26, 26, 26, 0.5); /* 70% opacity */
  border-radius: 50px;
  box-shadow: 0 0 20px rgba(0,0,0,0.5);
  outline: 1px solid rgba(255,255,255,0.6); /* white outline */
  backdrop-filter: blur(10px);
  text-align: center;
  padding-top: 5px;
  box-sizing: border-box;
}

.player img {
  position: absolute;
  top: 6px;
  right: 25px;
  width: 36px;
  height: 15px;
  opacity: 0.9;
}

h2 {
  font-size: 11px;
  margin: 2px 0 5px 0;
}

.controls {
  display: flex;
  justify-content: center;
  gap: 6px;
}

button {
  background: rgba(34, 34, 34, 0.7);
  color: #fff;
  border: none;
  padding: 4px 6px;
  border-radius: 8px;
  font-size: 9px;
  cursor: pointer;
  transition: background 0.3s, transform 0.1s;
}

button:hover {
  background: rgba(68, 68, 68, 0.9);
  transform: scale(1.05);
}

.volume-control {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 4px;
  margin-top: 3px;
}

.volume-control input[type="range"] {
  width: 80px;
  height: 8px;
  accent-color: #00e6b8;
  cursor: pointer;
}

.status {
  margin-top: 0px;
  font-size: 9px;
  color: #00e6b8;
}
</style>
</head>
<body>
<div class="player">
  <img src="./SONNARD SPEEDOMETER_files/il9LPui.png" alt="logo">
  <h2 id="stationName">Delta FM</h2>
  
  <div class="controls">
    <button onclick="prevStation()">‚èÆ</button>
    <button onclick="togglePlay()">‚ñ∂Ô∏è/‚è∏</button>
    <button onclick="nextStation()">‚è≠</button>
  </div>

  <div class="volume-control">
    üîä <input type="range" id="volumeSlider" min="0" max="1" step="0.01" value="0.5">
  </div>

  <div class="status" id="statusText">Stopped</div>
</div>
<div class="gauges-container">
    <div class="box">
        <div class="rpm-circle" id="rpmCircle" style="background: conic-gradient(
    from 90deg,
    var(--cyber-green) 74.64834395304803deg,
    #222 74.64834395304803deg
  );">
                <div class="rpm-ring"></div>
                <div class="circle-center" id="gearDisplay">3</div>
        </div>
        <div class="rpm" id="rpm-value">1659</div>
        <div class="speed" id="speedValue">0 <span style="font-size:12px;">MPH</span></div>
        <div class="rpm-lights" id="rpmLights"><div class="light active"></div><div class="light active"></div><div class="light"></div><div class="light"></div><div class="light"></div><div class="light"></div><div class="light"></div><div class="light"></div><div class="light"></div><div class="light"></div></div>
        <div class="rpm-label">RPM</div>
        <div class="speed-label">SPEED</div>
        <div class="fuel"><img id="fuelIcon" src="fuel_full.png" alt="Fuel Icon" width="18"></div>
        <div class="fuel-value" id="fuelValue">0%</div>
        <div class="engine"><img id="engineIcon" src="engine_off.png" alt="Engine Icon" width="20"></div>
        <div class="health-value" id="healthValue">0%</div>
        <div class="lamp"><img id="lightsIcon" src="lights_off.png" alt="Headlights Icon" width="20"></div>
        <div class="seat"><img id="seatbeltIcon" src="seatbelt_off.png" alt="Seatbelt Icon" width="18"></div>
        <div class="indicator-left">
        <img id="leftIndicator" src="turn_left_off.png" alt="Left Indicator" width="18">
        </div>
        <div class="indicator-right">
        <img id="rightIndicator" src="turn_right_off.png" alt="Right Indicator" width="18">
        </div>


        
    </div>
</div>

<script>
function convertSpeed(speedMS, mode) {
  switch (mode) {
    case 0: return Math.round(speedMS * 3.6);
    case 1: return Math.round(speedMS * 2.237);
    case 2: return Math.round(speedMS * 1.944);
    default: return Math.round(speedMS * 3.6);
  }
}
function setSpeed(speed) {
  document.getElementById("speedValue").innerHTML = 
    `${Math.round(speed * 2.23)} <span style="font-size:12px;">MPH</span>`;
  const converted = convertSpeed(speed, currentSpeedMode);
}
const rpmValueEl = document.getElementById('rpm-value');
const rpmCircleEl = document.getElementById('rpmCircle');
const rpmLightsContainer = document.getElementById('rpmLights');

const LIGHT_COUNT = 10;
const RPM_DANGER_THRESHOLD = 0.85;

for (let i = 0; i < LIGHT_COUNT; i++) {
  const light = document.createElement('div');
  light.classList.add('light');
  rpmLightsContainer.appendChild(light);
}
const lights = Array.from(document.querySelectorAll('.light'));

let displayedRPM = 0;
let targetRPM = 0;
let idleInterval = null;

function setRPM(rpm) {
  // Hentikan fluktuasi lama
  if (idleInterval) clearInterval(idleInterval);

  // Jika idle (sekitar 0.2)
  if (rpm <= 0.21 && rpm >= 0.19) {
    targetRPM = 0.2;
    
    // Jalankan fluktuasi ringan otomatis
    idleInterval = setInterval(() => {
      const variation = (Math.random() * 0.1 - 0.05) * 0.2; // variasi kecil ¬±0.01
      targetRPM = 0.2 + variation;
    }, 300);
  } else {
    // RPM normal tanpa fluktuasi
    targetRPM = Math.max(0, Math.min(1, rpm));
  }
}

function setGear(gear, speed) {
  const g = document.getElementById('gearDisplay');

  if (speed <= 1) {                   // <= 1 km/h dianggap berhenti
    g.textContent = 'N';              // Netral
  } else if (gear === 0 || gear < 0) {
    g.textContent = 'R';              // Mundur
  } else {
    g.textContent = gear.toString();  // Gigi normal
  }
}
function setSeatbelts(state) {
  const icon = document.getElementById('seatbeltIcon');
  icon.src = state ? "seatbelt_on.png" : "seatbelt_off.png";
}

let currentFuel = 0; // nilai 0.0‚Äì1.0

function setFuel(fuel) {
  currentFuel = fuel;
  const percent = Math.round(fuel * 100);
  const fuelText = document.getElementById('fuelValue');
  const fuelIcon = document.getElementById('fuelIcon');

  fuelText.textContent = `${percent}%`;

  // Ganti tampilan berdasarkan level bahan bakar
  if (fuel <= 0) {
    fuelIcon.src = "fuel_empty.png"; // kosong / mati
    fuelText.style.color = "#888";   // abu-abu
  } else if (fuel < 0.2) {
    fuelIcon.src = "fuel_low.png";   // low fuel merah
    fuelText.style.color = "#f33";   // merah
  } else {
    fuelIcon.src = "fuel_full.png";  // normal hijau
    fuelText.style.color = "#0f0";   // hijau
  }
}

let engineOn = false;
let currentHealth = 0; // nilai antara 0.0 - 1.0

function setEngine(state) {
  engineOn = state;
  updateEngineStatus();
}

function setHealth(health) {
  currentHealth = health;
  const percent = Math.round(health * 100);
  document.getElementById('healthValue').textContent = `${percent}%`;
  updateEngineStatus();
}

function updateEngineStatus() {
  const icon = document.getElementById('engineIcon');
  const healthText = document.getElementById('healthValue');

  if (!engineOn) {
    icon.src = "engine_off.png";        // üî¥ mesin mati
    healthText.style.color = "#aaa";    // warna netral
  } else if (currentHealth < 0.5) {
    icon.src = "engine_damaged.png";    // ‚ö†Ô∏è rusak
    healthText.style.color = "#f90";    // oranye / peringatan
  } else {
    icon.src = "engine_on.png";         // üü¢ normal
    healthText.style.color = "#0f0";    // hijau
  }
}
function setHeadlights(state) {
  const icon = document.getElementById('lightsIcon');

  switch (state) {
    case 0:
      icon.src = "lights_off.png";  // üî¥ lampu mati
      break;
    case 1:
      icon.src = "lights_on.png";   // üü¢ lampu menyala
      break;
    case 2:
      icon.src = "lights_high.png"; // üîµ lampu jauh (high beam)
      break;
    default:
      console.warn("‚ö†Ô∏è Invalid headlight state:", state);
      break;
  }
}
let leftBlinkInterval, rightBlinkInterval;

function setLeftIndicator(state) {
  const ind = document.getElementById('leftIndicator');
  ind.src = state ? "turn_left_on.png" : "turn_left_off.png";
}

function setRightIndicator(state) {
  const ind = document.getElementById('rightIndicator');
  ind.src = state ? "turn_right_on.png" : "turn_right_off.png";
}

// ‚ú≥Ô∏è Opsional: buat sein berkedip otomatis
function blinkLeft(state) {
  clearInterval(leftBlinkInterval);
  if (state) {
    let on = false;
    leftBlinkInterval = setInterval(() => {
      on = !on;
      setLeftIndicator(on);
    }, 500);
  } else {
    setLeftIndicator(false);
  }
}

function blinkRight(state) {
  clearInterval(rightBlinkInterval);
  if (state) {
    let on = false;
    rightBlinkInterval = setInterval(() => {
      on = !on;
      setRightIndicator(on);
    }, 500);
  } else {
    setRightIndicator(false);
  }
}

function animateRPM() {
  // Interpolasi smooth (lerp)
  displayedRPM += (targetRPM - displayedRPM) * 0.1;

  const rpm = displayedRPM;
  const rpmValue = Math.round(rpm * 8000);
  rpmValueEl.textContent = rpmValue.toString().padStart(4, '0');

  const degrees = rpm * 360;
  let color = 'var(--cyber-green)';
  if (rpm >= RPM_DANGER_THRESHOLD) color = 'var(--cyber-red)';
  else if (rpm >= 0.6) color = 'var(--cyber-orange)';

  rpmCircleEl.style.background = `
  conic-gradient(
    from 90deg,
    ${color} ${degrees}deg,
    #222 ${degrees}deg
  )
`;

  // Update lampu horizontal
  const activeLights = Math.round(rpm * LIGHT_COUNT);
  lights.forEach((light, i) => {
    light.classList.remove('active', 'orange', 'red');
    if (i < activeLights) {
      if (rpm >= RPM_DANGER_THRESHOLD && i >= LIGHT_COUNT - 3) {
        light.classList.add('red');
      } else if (rpm >= 0.6 && i >= LIGHT_COUNT - 5) {
        light.classList.add('orange');
      } else {
        light.classList.add('active');
      }
    }
  });

  requestAnimationFrame(animateRPM);
}

animateRPM();
// RADIOOOO
    
    const stations = [
  { name: "Delta FM", url: "https://s1.cloudmu.id/listen/delta_fm/radio.mp3" },
  { name: "Prambors FM", url: "https://s2.cloudmu.id/listen/prambors/radio.aac" },
  { name: "I Radio", url: "https://stream.radiojar.com/4ywdgup3bnzuv" },
  { name: "Female Radio", url: "https://s1.cloudmu.id/listen/female_radio/radio.mp3" }
];

let currentStation = 0;
let isPlaying = false;

const audio = new Audio(stations[currentStation].url);
const stationName = document.getElementById("stationName");
const statusText = document.getElementById("statusText");
const volumeSlider = document.getElementById("volumeSlider");

audio.volume = 0.2;

function playStation() {
  audio.play();
  isPlaying = true;
  statusText.textContent = "Now Playing";
}

function pauseStation() {
  audio.pause();
  isPlaying = false;
  statusText.textContent = "Paused";
}

function togglePlay() {
  if (isPlaying) {
    pauseStation();
  } else {
    playStation();
  }
}

function nextStation() {
  currentStation = (currentStation + 1) % stations.length;
  changeStation();
}

function prevStation() {
  currentStation = (currentStation - 1 + stations.length) % stations.length;
  changeStation();
}

function changeStation() {
  audio.pause();
  audio.src = stations[currentStation].url;
  stationName.textContent = stations[currentStation].name;
  statusText.textContent = "Loading...";
  audio.load();
  if (isPlaying) audio.play();
}

volumeSlider.addEventListener("input", () => {
  audio.volume = volumeSlider.value;
});
// üîÑ Demo animasi RPM naik-turun
setRPM(0.2)
setSpeed(0)
setGear("N")
setHealth(1)
setFuel(20)
</script>


</body></html>
